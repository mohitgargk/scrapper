<!DOCTYPE html>
<html>
<title> Statrade : Trade the Stats, not hunch !</title>

<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/tabulator/4.1.3/css/tabulator.min.css" rel="stylesheet">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tabulator/4.1.3/js/tabulator.min.js"></script>

<body>

<button id="ajax-trigger">Load Probabilities</button>
<div id="data-table"></div>
<script type="text/javascript">

    var table = new Tabulator("#data-table", {
        layout:"fitColumns",
        placeholder:"No Data Set",
        columns:[
            {title:"SCRIP", field:"scrip", sorter:"string"},
            {title:"PRICE", field:"price", sorter:"number", align:"center"},
            {title:"STRIKE", field:"strike", sorter:"number", sortable:true},
            {title:"CE", field:"ce", sorter:"number", align:"center"},
            {title:"PE", field:"pe", sorter:"number", align:"center"},
            {title:"SPREAD(%)", field:"spread", sorter:"number", align:"center"},
            {title:"TIME", field:"date", sorter:"String", align:"center"},
            {title:"P(breakeven)", field:"breakeven", sorter:"number", "align":"left", formatter:"progress", width:200,  editable:true},
            {title:"P(breakeven)", field:"breakeven", sorter:"number", "align":"left"},
            {title:"P(2%)", field:"p2", sorter:"number", align:"center"},
            {title:"P(3%)", field:"p3", sorter:"number", align:"center"},
            {title:"P(4%)", field:"p4", sorter:"number", align:"center"},
            {title:"P(5%)", field:"p5", sorter:"number", align:"center"},
            {title:"P(6%)", field:"p6", sorter:"number", align:"center"},
            {title:"P(7%)", field:"p7", sorter:"number", align:"center"},
            {title:"P(8%)", field:"p8", sorter:"number", align:"center"},
            {title:"P(9%)", field:"p9", sorter:"number", align:"center"},
            {title:"P(10%)", field:"p10", sorter:"number", align:"center"},
        ],
    });

    setInterval(myMethod, 30000);
    function myMethod( )
    {
        table.setData("/ls");
    }

    $("#ajax-trigger").click(function(){
        table.setData("/ls");
    });
</script>
</body>
</html>